var PStrength=new Class({Implements:[Options],options:{verdicts:["Very weak","Weak","Medium","Strong","Strongest"],colors:["#f00","#c06","#f60","#3c0","#3d0"],scores:[10,15,30,40],common:["password","sex","god","123456","123","liverpool","letmein","qwerty","monkey"],minchar:8,where:"before",id:"required"},initialize:function(a){this.setOptions(a);var c=this.options;var b=$(c.id);new Element("div",{id:c.id+"_text"}).inject(b,c.where);new Element("div",{id:c.id+"_bar",styles:{border:"1px solid white","font-size":"1px;",height:"2px",width:"0px"}}).inject(b,c.where);b.addEvent("keyup",this.onkeyup.bind(this))},onkeyup:function(){var f=this.options;var d=this.checkPassword($(f.id).value);var e=$(f.id+"_bar");var b=$(f.id+"_text");var c;var a;if(d==-200){c="#f00";a="Unsafe password word!";e.setStyles({width:"0%"})}else{if(d<0&&d>-199){c="#ccc";a="Too short";e.setStyles({width:"5%"})}else{if(d<=f.scores[0]){c=f.colors[0];a=f.verdicts[0];e.setStyles({width:"10%"})}else{if(d>f.scores[0]&&d<=f.scores[1]){c=f.colors[1];a=f.verdicts[1];e.setStyles({width:"25%"})}else{if(d>f.scores[1]&&d<=f.scores[2]){c=f.colors[2];a=f.verdicts[2];e.setStyles({width:"50%"})}else{if(d>f.scores[2]&&d<=f.scores[3]){c=f.colors[3];a=f.verdicts[3];e.setStyles({width:"75%"})}else{c=f.colors[4];a=f.verdicts[4];e.setStyles({width:"92%"})}}}}}}e.setStyles({backgroundColor:c});b.set("html",'<span style="color:'+c+';">'+a+"</span>")},checkPassword:function(b){var a=0;if(b.length<5){a=(a+3)}else{if(b.length>4&&b.length<8){a=(a+6)}else{if(b.length>7&&b.length<16){a=(a+12)}else{if(b.length>15){a=(a+18)}}}}if(b.match(/[a-z]/)){a=(a+1)}if(b.match(/[A-Z]/)){a=(a+5)}if(b.match(/\d+/)){a=(a+5)}if(b.match(/(.*[0-9].*[0-9].*[0-9])/)){a=(a+5)}if(b.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)){a=(a+5)}if(b.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)){a=(a+5)}if(b.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)){a=(a+2)}if(b.match(/([a-zA-Z])/)&&b.match(/([0-9])/)){a=(a+2)}if(b.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)){a=(a+2)}return a}});window.nimble=window.nimble||{};window.nimble.PStrength=function(b,a){var c={id:$(b).get("id")};if(a){c.extend(a)}return new PStrength(c)};